apiVersion: v1
kind: Secret
metadata:
  name: {{ .Values.pcgl2cache.credentialsSecret | default "pcgl2cache-google-cloud-key" }}
type: Opaque
{{ $list := .Values.pcgl2cache.secretFiles | default (list) }}
{{ if not (empty $list) }}
stringData:
  {{ $files := .Files }}
  {{ range $list }}
    {{ $v := .value }}
    {{ .name }}: {{ if kindIs "map" $v }}{{ $v | toJson | quote }}{{ else }}{{ $v | quote }}{{ end }}
  {{ end }}
{{ else }}
stringData: {}
{{ end }}
